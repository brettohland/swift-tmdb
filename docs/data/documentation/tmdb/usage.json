{"abstract":[{"text":"Instructions on initialization and usage of the ","type":"text"},{"code":"swift-tmdb","type":"codeVoice"},{"text":" package.","type":"text"}],"sections":[],"hierarchy":{"paths":[["doc:\/\/TMDB\/documentation\/TMDB"]]},"schemaVersion":{"minor":3,"major":0,"patch":0},"kind":"article","metadata":{"modules":[{"name":"TMDB"}],"title":"Usage","role":"article","roleHeading":"Article"},"seeAlsoSections":[{"generated":true,"anchor":"Initialization","title":"Initialization","identifiers":["doc:\/\/TMDB\/documentation\/TMDB\/TMDB","doc:\/\/TMDB\/documentation\/TMDB\/TMDBConfiguration"]}],"variants":[{"paths":["\/documentation\/tmdb\/usage"],"traits":[{"interfaceLanguage":"swift"}]}],"primaryContentSections":[{"kind":"content","content":[{"text":"Requirements","anchor":"Requirements","type":"heading","level":2},{"type":"paragraph","inlineContent":[{"code":"swift-tmdb","type":"codeVoice"},{"text":" requires a TMDB API Key in order to function.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"Follow their ","type":"text"},{"identifier":"https:\/\/developer.themoviedb.org\/docs\/getting-started","type":"reference","isActive":true},{"text":" guide in order to get your key.","type":"text"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"","type":"text"},{"text":" ","type":"text"},{"type":"reference","identifier":"https:\/\/nshipster.com\/secrets\/","isActive":true},{"text":" with your TMDB API Key and do not store it inside of your source code repository.","type":"text"}]}],"name":"Warning","style":"warning","type":"aside"},{"text":"Initializing","level":2,"type":"heading","anchor":"Initializing"},{"type":"paragraph","inlineContent":[{"text":"Initialize the TMDB client with your TMDB API Key. This only needs to be done once, and it’d be best to do it as early","type":"text"},{"text":" ","type":"text"},{"text":"in your app’s lifecycle as possible.","type":"text"}]},{"inlineContent":[{"text":"For example, if you’re using the SwiftUI app lifecycle:","type":"text"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["import SwiftUI","import TMDB","","@main","struct MyApp: App {","    init() {","        initializeTMDB()","    }","","    var body: some Scene {","        WindowGroup {","            ContentView()","        }","    }","","    private func initializeTMDB() {","        Task {","            do {","                try await TMDB.initialize(apiKey: \"APIKEYHERE\")","            } catch {","                print(\"Unable to initialize\", error)","            }","        }","    }","}",""]},{"text":"Getting Data","level":2,"anchor":"Getting-Data","type":"heading"},{"inlineContent":[{"text":"After initialization, there are two ways to use the module to request data from the TMDB API.","type":"text"}],"type":"paragraph"},{"level":3,"anchor":"Using-Static-Methods","text":"Using Static Methods","type":"heading"},{"inlineContent":[{"text":"As an example, you can request a movie’s details by calling the static ","type":"text"},{"type":"codeVoice","code":"movieDetails"},{"text":" method on the ","type":"text"},{"type":"codeVoice","code":"TMDB"},{"text":" enum:","type":"text"}],"type":"paragraph"},{"code":["import SwiftUI","import TMDB","","struct MovieDetails: View {","    @State private var movie: TMDB.Movie?","","    var body: some View {","        VStack {","            if let movie {","                Text(movie.title)","                    .font(.title)","                Text(movie.runtime, format: .runtime)","            } else {","                Text(\"Loading movie details\")","                ProgressView()","            }","        }","        .padding()","        .task {","            do {","                let movie = try await TMDB.movieDetails(id: 278)","                withAnimation {","                    self.movie = movie","                }","            } catch {","                print(error)","            }","        }","    }","}"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"text":"Calling this method is safe to do from SwiftUI Previews or from unit test cases. ","type":"text"},{"code":"swift-tmdb","type":"codeVoice"},{"text":" uses ","type":"text"},{"type":"reference","identifier":"https:\/\/github.com\/pointfreeco\/swift-dependencies","isActive":true},{"text":"","type":"text"},{"text":" ","type":"text"},{"text":"module to provide your previews or tests with mock data.","type":"text"}],"type":"paragraph"},{"text":"(Optional) Using Dependency Clients","level":4,"anchor":"Optional-Using-Dependency-Clients","type":"heading"},{"inlineContent":[{"text":"By including the ","type":"text"},{"code":"TMDBDependencies","type":"codeVoice"},{"text":" module, a ","type":"text"},{"code":"DependencyClient","type":"codeVoice"},{"text":" via PointFree’s [https:\/\/github.com\/pointfreeco\/swift-dependencies]","type":"text"},{"text":" ","type":"text"},{"text":"package will be exposed.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"The ","type":"text"},{"code":"swift-dependencies","type":"codeVoice"},{"text":" module is included when importing ","type":"text"},{"code":"TMDBDependencies","type":"codeVoice"},{"text":".","type":"text"}],"type":"paragraph"},{"code":["import SwiftUI","import TMDB","import TMDBDependencies","","struct MovieDetails: View {","    @Dependency(\\.tmdbMovies.movieDetails) var movieDetails","","    @State private var movie: TMDB.Movie?","","    var body: some View {","        VStack {","            if let movie {","                Text(movie.title)","                    .font(.title)","                Text(movie.runtime, format: .runtime)","            } else {","                Text(\"Loading movie details\")","                ProgressView()","            }","        }","        .padding()","        .task {","            do {","                let movie = try await movieDetails(1)","                withAnimation {","                    self.movie = movie","                }","            } catch {","                print(error)","            }","        }","    }","}",""],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"text":"Calling this method is safe to do from SwiftUI Previews or from unit test cases. ","type":"text"},{"code":"swift-tmdb","type":"codeVoice"},{"text":" uses ","type":"text"},{"overridingTitle":"PointFree’s Dependencies","identifier":"https:\/\/github.com\/pointfreeco\/swift-dependencies","overridingTitleInlineContent":[{"text":"PointFree’s Dependencies","type":"text"}],"isActive":true,"type":"reference"},{"text":"","type":"text"},{"text":" ","type":"text"},{"text":"module to provide your previews or tests with mock data.","type":"text"}],"type":"paragraph"}]}],"identifier":{"url":"doc:\/\/TMDB\/documentation\/TMDB\/Usage","interfaceLanguage":"swift"},"references":{"https://nshipster.com/secrets/":{"url":"https:\/\/nshipster.com\/secrets\/","type":"link","identifier":"https:\/\/nshipster.com\/secrets\/","titleInlineContent":[{"text":"Follow the best security practices","type":"text"}],"title":"Follow the best security practices"},"doc://TMDB/documentation/TMDB/TMDB":{"kind":"symbol","role":"symbol","url":"\/documentation\/tmdb\/tmdb","fragments":[{"text":"enum","kind":"keyword"},{"kind":"text","text":" "},{"text":"TMDB","kind":"identifier"}],"identifier":"doc:\/\/TMDB\/documentation\/TMDB\/TMDB","title":"TMDB","type":"topic","navigatorTitle":[{"kind":"identifier","text":"TMDB"}],"abstract":[{"text":"The top level namespace for the ","type":"text"},{"code":"swift-tmdb","type":"codeVoice"},{"text":" package","type":"text"}]},"doc://TMDB/documentation/TMDB/TMDBConfiguration":{"url":"\/documentation\/tmdb\/tmdbconfiguration","abstract":[{"text":"A configuration struct used by the package to configure itself.","type":"text"}],"type":"topic","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"TMDBConfiguration","kind":"identifier"}],"role":"symbol","kind":"symbol","title":"TMDBConfiguration","identifier":"doc:\/\/TMDB\/documentation\/TMDB\/TMDBConfiguration","navigatorTitle":[{"text":"TMDBConfiguration","kind":"identifier"}]},"https://developer.themoviedb.org/docs/getting-started":{"url":"https:\/\/developer.themoviedb.org\/docs\/getting-started","type":"link","identifier":"https:\/\/developer.themoviedb.org\/docs\/getting-started","titleInlineContent":[{"text":"Getting Started","type":"text"}],"title":"Getting Started"},"doc://TMDB/documentation/TMDB":{"abstract":[{"text":"A Swift 6.2 wrapper around the TMDB API. Engineered for simplicity.","type":"text"}],"title":"TMDB","identifier":"doc:\/\/TMDB\/documentation\/TMDB","role":"collection","type":"topic","kind":"symbol","url":"\/documentation\/tmdb"},"https://github.com/pointfreeco/swift-dependencies":{"url":"https:\/\/github.com\/pointfreeco\/swift-dependencies","type":"link","identifier":"https:\/\/github.com\/pointfreeco\/swift-dependencies","titleInlineContent":[{"text":"PointFree’s Dependencies","type":"text"}],"title":"PointFree’s Dependencies"}}}